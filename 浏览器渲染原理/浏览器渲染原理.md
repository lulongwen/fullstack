# 浏览器渲染原理

1. 了解Web应用到底能做什么，以及未来能适用于那些新领域！
2. 掌握浏览器渲染原理，把网络，页面渲染，js，浏览器安全等知识串联起来，看懂前端体系本质
3. 前端工程师必备的核心技能
   1. html5, css3, es6 必备技能
   2. 核心技能说明了前端的竞争力：nodejs, 浏览器原理，http协议，数据结构
4. Chrome的排版引擎 **Blink**
   1. Blink是从Webkit分支独立出来的
   2. Blink，WebKit ， Gecko三者的渲染流水线基本类似





## 1 浏览器架构设计

1. chrome架构：只打开一个页面，为啥有4个进程？
2. TCP协议：如何保证页面文件能完整的送到浏览器？
3. http请求流程：为什么站点第二次打开速度很快？
4. 导航流程：从输入URL到页面显示，中间发生了什么？
5. 渲染流程：html & css & js文件是如何变成页面的？



## 2 js引擎工作原理

1. 变量提升：js代码是按顺序执行的吗？
2. 调用栈：为什么 js代码会出现栈溢出？
3. 块级作用域：var缺陷？为什么要引入 let & const
4. 作用域链和闭包：代码中出现相同的变量，js引擎如何选择？
5. this：从js执行上线文的角度讲清楚 this



## 3 V8工作原理

1. 栈空间 & 堆空间：数据是如何存储的？
2. 垃圾回收：垃圾数据是如何自动回收的？
3. 编译器和解释器：V8是如何执行一段 js代码的



## 4 浏览器中的页面循环系统

1. 消息队列和事件循环：页面是怎么“活”起来的？
2. webAPI：setTimeout & XMLHttpRequest是如何实现的？
3. 宏任务和微任务：异步队列的优先级
4. Promise，告别回调地狱
5. async & await：异步代码同步化



## 5 页面工作原理

1. performance页面性能分析：chrome开发者工具分析 web性能
2. DOM树：js是如何影响 DOM树构建的？
3. 渲染流水线：渲染引擎是如何为 DOM节点选择样式属性的？
4. 分层和合成机制：为什么css动画比js高效？
5. 如何系统的优化页面性能？
6. 虚拟DOM：和真实DOM有啥不一样？
7. PWA渐进式应用：解决了web的那些问题？
8. webComponent：像积木一样构建web应用
9. 渲染流程
   1. 主线程 `DOM, Style, Layout, Layer, Paint`
   2. 非主线程 `Title, Raster, Draw quad, Display`



## 6 浏览器中的网络

1. http1： http性能优化
2. http2：如何提升网络速度
3. http3： 甩掉 TCP，TLS的包袱，构建高效网络



## 7 浏览器安全

1. https：让数据传输更安全
2. 同源策略：为什么 XMLHttpRequest不能跨域请求资源？
3. XSS跨站脚本攻击：为什么 cookie必须设置 httpOnly属性
4. CSRF跨站请求伪造：chrome为什么要让 iframe运行在单独的渲染进程中？
5. 安全沙箱：页面和系统之间的隔离墙





## 首屏显示涉及到的技术

1. DNS
2. HTTP
3. DOM解析
4. CSS阻塞
5. JavaScript阻塞等
6. 输入的URL是怎么变成页面的？





## web的演化路线

1. 应用程序web化
   1. 越来越多的应用转向BS架构：浏览器-服务器架构
   2. 这种改变让浏览器的重要性与日俱增；视频、音频、游戏核心应用场景切换
2. web应用移动化
   1. 针对web技术的缺点，PWA解决方案
3. web操作系统化
   1. 浏览器的底层结构往操作系统架构方向发展
   2. 在浏览器中引入多种编程语言的支持，比如 WebAssembly
   3. 浏览器逐步演化为操作系统之上的“操作系统”
   4. Chrome朝SOA的方向演化，未来很多模块都会以服务的形式提供给上层应用使用



### web技术的缺点

1. 渲染流程过于复杂且性能不及原生应用
2. 离线时用户无法使用
3. 无法接收消息推送
4. 移动端没有一级入口
5. 解决方案：PWA方案来整合Web和本地程序各自的优势



### 为什么要学习浏览器的工作原理

1. 准确评估 web开发项目的可行性
   1. 了解浏览器是如何工作的，能够让你更加准确地决策是否可以采用Web来开发项目
   2. 选对方案
2. 从高纬度审视页面开发
   1. 站在用户体验角度来考虑页面性能，用户体验的流畅度
      1. 点击按钮，100ms内无响应，感受到延迟
      2. 请求网站，1秒内看不到内容，会产生任务被中断的感觉
      3. 动画没有达到60fps，感受到动画的卡顿
3. 在技术的迭代中把握本质，高纬度的理解前端
   1. nodejs的特点：脱离浏览器环境来执行JavaScript
   2. 浏览器功能，以及整个前端的开发环境，不足以支撑日益增长的需求；所以变化，才是前端的主旋律
   3. 谁能抓住变化的机遇，谁就能收获**变化的红利**
   4. 核心技术足以支撑核心需求，前端生态就会进入一个稳定的状态
   5. 前端核心技术的体现
      1. 脚本执行效率的提高
         1. 修订和更新语言本身，例如 es6，7，8，9，10；typescript
         2. 颠覆性的使用新语言，例如 webAssembly
            1. 需要经过编译器编译
            2. 体积小、执行速度快，能大幅提升语言的执行效率
      2. 页面渲染性能的提升
         1. 下一代布局方案**LayoutNG**
         2. 渲染瘦身方案**Slim Paint**，目的都是让渲染变得更加简单和高效
      3. 开发工具链的完善
         1. 前端模块化开发，例如 webComponent
            1. shadow DOM
            2. HTML Template等技术





























































